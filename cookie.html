<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
    <style media="screen">
    body{background-image: url(https://us.123rf.com/450wm/microone/microone1608/microone160800484/61854972-%E3%81%86%E3%82%93%E3%81%A1%E3%82%B7%E3%83%BC%E3%83%A0%E3%83%AC%E3%82%B9-%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3%E3%80%82%E3%81%86%E3%82%93%E3%81%A1%E3%80%81%E6%8E%92%E6%B3%84%E7%89%A9%E3%81%AE%E8%87%AD%E3%81%84%E3%80%81%E3%83%99%E3%82%AF%E3%83%88%E3%83%AB-%E3%82%A4%E3%83%A9%E3%82%B9%E3%83%88%E3%81%A8%E8%83%8C%E6%99%AF.jpg?ver=6);
    background-size: cover;}
    img{width:400px;}
    .container{display:flex;}
    .item1{flex-grow:2;}
    .item1{flex-grow:4; }
    .item1{flex-grow:3; }
    </style>
  </head>
  <body>
    <script type="text/javascript">
    /*インターバルIDの格納先
    */
    let event_ids=[];

    let ls_count=localStorage.getItem("ls_count");
    if (ls_count){
      unchi_count=parseInt(ls_count);

    }else {
      unchi_count=0;
    }

      setInterval(save_action,1000)
      function save_action(){
        localStorage.setItem("ls_count",unchi_count);
      }

      su_event_id=setInterval(screen_update,1);
      function screen_update(){
        var count_text=document.getElementById('unchi_count')
        count_text.textContent=unchi_count;
      }
      function event_clear(){
        clearInterval(su_event_id)
      }

      function unchi_Click(num){
        var unchisan=document.getElementById('unchisan');
        unchisan.classList.remove('animate__animated','animate__shakeX');
        void unchisan.offsetWidth;
        unchisan.classList.add('animate__animated','animate__shakeX')

        unchi_count=unchi_count+num;

     }
     function cursor(){
       if (unchi_count>=100) {
         unchi_count-=100;
         let r_id=setInterval("unchi_Click(1)",1000);
         event_ids.push(r_id);
       }
     }
     function sell_cursor(){
       if (event_ids.length>0) {
         let r_id=event_ids.pop();
         clearInterval(r_id);
       }
      }

     function grandma(){
       if (unchi_count>=1000) {
         unchi_count-=1000;
       setInterval("unchi_Click(10)",100)

          }
        }
     function farm(){
       if (unchi_count>=1000) {
         unchi_count-=1000;
      setInterval("unchi_Click(100)",10)

     }
   }
      function main(){
        if (unchi_count>=1000) {
          unchi_count-=1000;
        setInterval("unchi_Click(1000)",1)

      }
    }
     function factory(){
       if (unchi_count>=90000) {
         unchi_count-=90000;
       setInterval("unchi_Click(99999)",1)

     }
   }
   function buildings_switch() {
      let list_ele=document.getElementById('buildings_buy');
      list_ele.style.display='none';
   }



    </script>
    <div class="container">
      <div class="item1">
        <button id="screen_switch"onclick="event_clear()"type"button"name="button">更新切り替え</button>
    <p>
    <span id='unchi_count'></span> ブリブリ
  </p>
    <img id="unchisan"onclick="unchi_Click(1)" src="https://stickershop.line-scdn.net/stickershop/v1/product/14304453/LINEStorePC/main.png;compress=true"alt="">
  </div>
  <div class="item2">
    <p class="animate__animated animate__bounce">製作途中</p>
  </div>
  <div class="item3">

    <div id="buildings_buy">
    <span onclick="buildings_switch()">購入</span>
    <p>
        <li onclick="cursor()">カーソル</li>
        <li onclick="grandma()">グランマ</li>
        <li onclick="farm()">ファーム</li>
        <li onclick="main()">マイン</li>
        <li onclick="factory()">ファクトリー</li>
    </p>
  </div>

  <div id="buildings_sell">
  <span onclick="buildings_switch()">売却</span>

  <p>
      <li onclick="sell_cursor()">カーソル</li>
      <li onclick="sell_grandma()">グランマ</li>
      <li onclick="sell_farm()">ファーム</li>
      <li onclick="sell_main()">マイン</li>
      <li onclick="sell_factory()">ファクトリー</li>
  </p>
</div>

  </div>
  </body>
</html>
